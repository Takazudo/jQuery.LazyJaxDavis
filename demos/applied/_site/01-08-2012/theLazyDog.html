<!doctype html>
<html class="no-js" lang="ja">
<head>
<meta charset="utf-8">
<title>jQuery.LazyJaxDavis - Lazy Forms</title>
<meta name="viewport" content="width=1000">
<link rel="stylesheet" href="/jQuery.LazyJaxDavis/demos/applied/common/css/style.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script src="/jQuery.LazyJaxDavis/lib/davis.js"></script>
<script src="/jQuery.LazyJaxDavis/jquery.lazyjaxdavis.js"></script>
<script src="/jQuery.LazyJaxDavis/demos/applied/common/js/script.js"></script>
</head>
<body><div class="mod-all">

<div class="mod-header">
	<h1><a href="/jQuery.LazyJaxDavis/demos/applied/_site/">jQuery.LazyJaxDavis</a></h1>
</div>


<div class="mod-body">
	<div class="mod-side">
	<ul class="mod-sidenav" id="sidenav">
		<li><a href="/jQuery.LazyJaxDavis/demos/applied/_site/">Introduction</a></li>
		
			<li><a href="/jQuery.LazyJaxDavis/demos/applied/_site/01-01-2012/foobar.html">Davis.js</a></li>
		
			<li><a href="/jQuery.LazyJaxDavis/demos/applied/_site/01-02-2012/quickbrown.html">setup</a></li>
		
			<li><a href="/jQuery.LazyJaxDavis/demos/applied/_site/01-03-2012/jumpsover.html">URL routing</a></li>
		
			<li><a href="/jQuery.LazyJaxDavis/demos/applied/_site/01-04-2012/theLazyDog.html">Davis.js routing</a></li>
		
			<li><a href="/jQuery.LazyJaxDavis/demos/applied/_site/01-05-2012/foobar.html">Davis.js routing</a></li>
		
			<li><a href="/jQuery.LazyJaxDavis/demos/applied/_site/01-06-2012/anchorhandling.html">Anchor handling</a></li>
		
			<li><a href="/jQuery.LazyJaxDavis/demos/applied/_site/01-07-2012/jumpsover.html">Lazy links</a></li>
		
			<li><a href="/jQuery.LazyJaxDavis/demos/applied/_site/01-08-2012/theLazyDog.html">Lazy Forms</a></li>
		
	</ul>
</div>

	<div class="mod-main" id="main">
			<div id="lazyjaxdavisroot">
			<!-- LazyJaxDavis start -->

			<div class="mod-article">
				<h2>Lazy Forms</h2>

<p>"Lazy forms" mean the forms which jQuery.LazyJaxDavis hijacks.</p>

<h3>All forms are lazy-forms</h3>

<p>As lazy links, jQuery.LazyJaxDavis also hijacks all forms' submit.<br/>
jQuery.LazyJaxDavis supports GET and POST. Try to submit the forms below to confirm those works.</p>

<div class="mod-forms">
    <div class="h">GET</div>
    <form action="/jQuery.LazyJaxDavis/demos/applied/_site/gettest.html" method="get">
        <input type="text" value="getformtest" name="getval"> <input type="submit" value="go">
    </form>
    <div class="h">POST</div>
    <form action="/jQuery.LazyJaxDavis/demos/applied/_site/posttest.html" method="post">
        <input type="text" value="postformtest" name="postval"> <input type="submit" value="go">
    </form>
</div>




<div class="highlight"><pre><code class="html"><span class="nt">&lt;form</span> <span class="na">action=</span><span class="s">&quot;/jQuery.LazyJaxDavis/demos/applied/_site/gettest.html&quot;</span> <span class="na">method=</span><span class="s">&quot;get&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">value=</span><span class="s">&quot;getformtest&quot;</span> <span class="na">name=</span><span class="s">&quot;getval&quot;</span><span class="nt">&gt;</span> <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;submit&quot;</span> <span class="na">value=</span><span class="s">&quot;go&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;/form&gt;</span>
</code></pre>
</div>




<div class="highlight"><pre><code class="html"><span class="nt">&lt;form</span> <span class="na">action=</span><span class="s">&quot;/jQuery.LazyJaxDavis/demos/applied/_site/posttest.html&quot;</span> <span class="na">method=</span><span class="s">&quot;post&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">value=</span><span class="s">&quot;postformtest&quot;</span> <span class="na">name=</span><span class="s">&quot;postval&quot;</span><span class="nt">&gt;</span> <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;submit&quot;</span> <span class="na">value=</span><span class="s">&quot;go&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;/form&gt;</span>
</code></pre>
</div>


<h3>No-lazy forms</h3>

<p>As lazy links, you can avoid the ajax behavior to add <code>apply-nolazy</code> to the form's class attributes.</p>

<div class="mod-forms">
    <div class="h">GET (no-lazy)</div>
    <form action="/jQuery.LazyJaxDavis/demos/applied/_site/gettest.html" method="get" class="apply-nolazy">
        <input type="text" value="getformtest" name="getval"> <input type="submit" value="go">
    </form>
    <div class="h">POST (no-lazy)</div>
    <form action="/jQuery.LazyJaxDavis/demos/applied/_site/posttest.html" method="post" class="apply-nolazy">
        <input type="text" value="postformtest" name="postval"> <input type="submit" value="go">
    </form>
</div>




<div class="highlight"><pre><code class="html"><span class="nt">&lt;form</span> <span class="na">action=</span><span class="s">&quot;/jQuery.LazyJaxDavis/demos/applied/_site/gettest.html&quot;</span> <span class="na">method=</span><span class="s">&quot;get&quot;</span> <span class="na">class=</span><span class="s">&quot;apply-nolazy&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">value=</span><span class="s">&quot;getformtest&quot;</span> <span class="na">name=</span><span class="s">&quot;getval&quot;</span><span class="nt">&gt;</span> <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;submit&quot;</span> <span class="na">value=</span><span class="s">&quot;go&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;/form&gt;</span>
</code></pre>
</div>




<div class="highlight"><pre><code class="html"><span class="nt">&lt;form</span> <span class="na">action=</span><span class="s">&quot;/jQuery.LazyJaxDavis/demos/applied/_site/posttest.html&quot;</span> <span class="na">method=</span><span class="s">&quot;post&quot;</span> <span class="na">class=</span><span class="s">&quot;apply-nolazy&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">value=</span><span class="s">&quot;postformtest&quot;</span> <span class="na">name=</span><span class="s">&quot;postval&quot;</span><span class="nt">&gt;</span> <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;submit&quot;</span> <span class="na">value=</span><span class="s">&quot;go&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;/form&gt;</span>
</code></pre>
</div>


<h3>Make url routings for POST receivers</h3>

<p>If you handle with jQuery.LazyJaxDavis, you need to make url routings for POST receiver pages like below.</p>

<div class="highlight"><pre><code class="javascript"><span class="nx">$</span><span class="p">.</span><span class="nx">LazyJaxDavis</span><span class="p">({</span>
  <span class="c1">// do setup things here</span>
<span class="p">},[</span>
  <span class="p">{</span>
    <span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;/jQuery.LazyJaxDavis/demos/applied/_site/posttest.html&#39;</span><span class="p">,</span>
    <span class="nx">method</span><span class="o">:</span> <span class="s1">&#39;POST&#39;</span>
  <span class="p">}</span>
<span class="p">]);</span>
</code></pre>
</div>


<p>As default jQuery.LazyJaxDavis handles all incoming requests as GET. You need to override this to add <code>method: 'POST'</code> to url routing.</p>

<h3>POST submit doesn't change url</h3>

<p>If you submit with lazy forms as above, the url displayed in the location bar is still unchanged. This is why Davis.js works like this. I think this doesn't make any trouble. But please keep in mind about this.</p>

			</div>

			<!-- LazyJaxDavis end -->
			</div>
	</div>
</div>

<div class="mod-footer">
	This page is the demo of <a href="https://github.com/Takazudo/jQuery.LazyJaxDavis">jQuery.LazyJaxDavis</a>.
</div>


</div></body>
</html>
